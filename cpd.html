<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from org.apache.maven.plugins:maven-pmd-plugin:3.26.0:cpd at 2025-04-05
 | Rendered using Apache Maven Fluido Skin 2.0.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>CPD Results – Plexus Interpolation API</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.0.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.0.1.min.js"></script>
    <!-- Matomo -->
    <script>
        var _paq = window._paq = window._paq || [];
        _paq.push(['disableCookies']);
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);

        (function() {
            var u="https://analytics.apache.org/";
            _paq.push(['setTrackerUrl', u+'/matomo.php']);
            _paq.push(['setSiteId', '18']);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
            g.async=true; g.src=u+'/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
    </script>
    <!-- End Matomo Code -->
  </head>
  <body>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="../../"><img class="class java.lang.Object" src="../../images/plexus-logo-trans.png" alt="Plexus" /></a></h1></div></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
      <li><a href="../../">Plexus</a><span class="divider">/</span></li>
      <li><a href="..">Parent POM</a><span class="divider">/</span></li>
      <li><a href="index.html">Plexus Interpolation API</a><span class="divider">/</span></li>
    <li class="active">CPD Results</li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2025-04-05</li>
          <li id="projectVersion" class="pull-right">Version: 1.28</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li><a href="index.html">Introduction</a></li>
    <li><a href="apidocs/index.html">JavaDocs</a></li>
    <li><a href="xref/index.html">Source Xref</a></li>
   <li class="nav-header">Parent Project</li>
    <li><a href="../plexus-pom.git/index.html">Plexus</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html"><span class="icon-chevron-down"></span>Project Reports</a>
     <ul class="nav nav-list">
      <li><a href="surefire.html">Surefire</a></li>
      <li class="active"><a>CPD</a></li>
      <li><a href="pmd.html">PMD</a></li>
      <li><a href="taglist.html">Tag List</a></li>
      <li><a href="xref/index.html">Source Xref</a></li>
      <li><a href="xref-test/index.html">Test Source Xref</a></li>
      <li><a href="apidocs/index.html">Javadoc</a></li>
     </ul></li>
   <li class="nav-header">Plexus Projects</li>
    <li><a href="../../plexus-archiver/">Plexus Archiver</a></li>
    <li><a href="../../plexus-classworlds/">Plexus Classworlds</a></li>
    <li><a href="../../plexus-compiler/">Plexus Compiler</a></li>
    <li><a href="../../plexus-i18n/">Plexus i18n</a></li>
    <li><a href="../../plexus-interactivity/">Plexus Interactivity</a></li>
    <li><a href="../../plexus-interpolation/">Plexus Interpolation</a></li>
    <li><a href="../../plexus-io/">Plexus IO</a></li>
    <li><a href="../../plexus-languages/">Plexus Languages</a></li>
    <li><a href="../../modello/">Plexus Modello</a></li>
    <li><a href="../">Plexus Parent POM</a></li>
    <li><a href="../../plexus-resources/">Plexus Resources</a></li>
    <li><a href="../../plexus-utils/">Plexus Utils</a></li>
    <li><a href="../../plexus-velocity/">Plexus Velocity</a></li>
    <li><a href="../../plexus-xml/">Plexus XML</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
<form id="search-form" action="https://www.google.com/search" method="get" >
  <input value="https://codehaus-plexus.github.io/" name="sitesearch" type="hidden" />
  <input class="search-query" name="q" id="query" type="text" placeholder="Search with Google..." />
</form>
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<section><a id="CPD_Results"></a>
<h1>CPD Results</h1>
<p>The following document contains the results of PMD's  <a class="externalLink" href="https://pmd.github.io/latest/pmd_userdocs_cpd.html">CPD</a> 7.7.0.</p><section><a id="Duplications"></a>
<h2>Duplications</h2>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/plexus/interpolation/InterpolatorFilterReader.java</td>
<td><a href="./xref/org/codehaus/plexus/interpolation/InterpolatorFilterReader.html#L159">159</a></td></tr>
<tr class="a">
<td>org/codehaus/plexus/interpolation/multi/MultiDelimiterInterpolatorFilterReader.java</td>
<td><a href="./xref/org/codehaus/plexus/interpolation/multi/MultiDelimiterInterpolatorFilterReader.html#L171">171</a></td></tr>
<tr class="b">
<td colspan="2">
<pre>}

    /**
     * Skips characters. This method will block until some characters are available, an I/O error occurs, or the end of
     * the stream is reached.
     *
     * @param n The number of characters to skip
     * @return the number of characters actually skipped
     * @exception IllegalArgumentException If &lt;code&gt;n&lt;/code&gt; is negative.
     * @exception IOException If an I/O error occurs
     */
    public long skip(long n) throws IOException {
        if (n &lt; 0L) {
            throw new IllegalArgumentException(&quot;skip value is negative&quot;);
        }

        for (long i = 0; i &lt; n; i++) {
            if (read() == -1) {
                return i;
            }
        }
        return n;
    }

    /**
     * Reads characters into a portion of an array. This method will block until some input is available, an I/O error
     * occurs, or the end of the stream is reached.
     *
     * @param cbuf Destination buffer to write characters to. Must not be &lt;code&gt;null&lt;/code&gt;.
     * @param off Offset at which to start storing characters.
     * @param len Maximum number of characters to read.
     * @return the number of characters read, or -1 if the end of the stream has been reached
     * @exception IOException If an I/O error occurs
     */
    public int read(char cbuf[], int off, int len) throws IOException {
        for (int i = 0; i &lt; len; i++) {
            int ch = read();
            if (ch == -1) {
                if (i == 0) {
                    return -1;
                } else {
                    return i;
                }
            }
            cbuf[off + i] = (char) ch;
        }
        return len;
    }

    /**
     * Returns the next character in the filtered stream, replacing tokens from the original stream.
     *
     * @return the next character in the resulting stream, or -1 if the end of the resulting stream has been reached
     * @exception IOException if the underlying stream throws an IOException during reading
     */
    public int read() throws IOException {
        if (replaceIndex != -1 &amp;&amp; replaceIndex &lt; replaceData.length()) {
            int ch = replaceData.charAt(replaceIndex++);
            if (replaceIndex &gt;= replaceData.length()) {
                replaceIndex = -1;
            }
            return ch;
        }

        int ch = -1;
        if (previousIndex != -1 &amp;&amp; previousIndex &lt; this.endToken.length()) {
            ch = this.endToken.charAt(previousIndex++);
        } else {
            ch = in.read();
        }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/plexus/interpolation/InterpolatorFilterReader.java</td>
<td><a href="./xref/org/codehaus/plexus/interpolation/InterpolatorFilterReader.html#L304">304</a></td></tr>
<tr class="a">
<td>org/codehaus/plexus/interpolation/multi/MultiDelimiterInterpolatorFilterReader.java</td>
<td><a href="./xref/org/codehaus/plexus/interpolation/multi/MultiDelimiterInterpolatorFilterReader.html#L339">339</a></td></tr>
<tr class="b">
<td colspan="2">
<pre>if (key.toString().startsWith(escapeString + orginalBeginToken)) {
                        String keyStr = key.toString();
                        if (!preserveEscapeString) {
                            value = keyStr.substring(escapeString.length(), keyStr.length());
                        } else {
                            value = keyStr;
                        }
                        escapeFound = true;
                    }
                }
                if (!escapeFound) {
                    if (interpolateWithPrefixPattern) {
                        value = interpolator.interpolate(key.toString(), &quot;&quot;, recursionInterceptor);
                    } else {
                        value = interpolator.interpolate(key.toString(), recursionInterceptor);
                    }
                }
            } catch (InterpolationException e) {
                IllegalArgumentException error = new IllegalArgumentException(e.getMessage());
                error.initCause(e);

                throw error;
            }

            if (value != null) {
                if (value.length() != 0) {
                    replaceData = value;
                    replaceIndex = 0;
                }
                return read();
            } else {
                previousIndex = 0;
                replaceData = key.substring(0, key.length() - this.endToken.length());
                replaceIndex = 0;
                return this.beginToken.charAt(0);
            }
        }

        return ch;
    }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/plexus/interpolation/InterpolatorFilterReader.java</td>
<td><a href="./xref/org/codehaus/plexus/interpolation/InterpolatorFilterReader.html#L264">264</a></td></tr>
<tr class="a">
<td>org/codehaus/plexus/interpolation/multi/MultiDelimiterInterpolatorFilterReader.java</td>
<td><a href="./xref/org/codehaus/plexus/interpolation/multi/MultiDelimiterInterpolatorFilterReader.html#L299">299</a></td></tr>
<tr class="b">
<td colspan="2">
<pre>} while (ch != this.endToken.charAt(0));

            // now test endToken
            if (ch != -1 &amp;&amp; this.endToken.length() &gt; 1) {
                int endTokenMatchPos = 1;

                do {
                    if (previousIndex != -1 &amp;&amp; previousIndex &lt; this.endToken.length()) {
                        ch = this.endToken.charAt(previousIndex++);
                    } else {
                        ch = in.read();
                    }

                    if (ch != -1) {
                        key.append((char) ch);

                        if (ch != this.endToken.charAt(endTokenMatchPos++)) {
                            ch = -1; // not really EOF but to trigger code below
                            break;
                        }

                    } else {
                        break;
                    }
                } while (endTokenMatchPos &lt; this.endToken.length());
            }

            // There is nothing left to read so we have the situation where the begin/end token
            // are in fact the same and as there is nothing left to read we have got ourselves
            // end of a token boundary so let it pass through.
            if (ch == -1) {
                replaceData = key.toString();
                replaceIndex = 1;
                return replaceData.charAt(0);
            }

            String value = null;
            try {
                boolean escapeFound = false;
                if (useEscape) {
                    if (key.toString().startsWith(escapeString + orginalBeginToken)) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/plexus/interpolation/StringSearchInterpolator.java</td>
<td><a href="./xref/org/codehaus/plexus/interpolation/StringSearchInterpolator.html#L124">124</a></td></tr>
<tr class="a">
<td>org/codehaus/plexus/interpolation/fixed/FixedStringSearchInterpolator.java</td>
<td><a href="./xref/org/codehaus/plexus/interpolation/fixed/FixedStringSearchInterpolator.html#L181">181</a></td></tr>
<tr class="b">
<td colspan="2">
<pre>do {
                result.append(input, endIdx + 1, startIdx);

                endIdx = input.indexOf(endExpr, startIdx + 1);
                if (endIdx &lt; 0) {
                    break;
                }

                final String wholeExpr = input.substring(startIdx, endIdx + endExpr.length());
                String realExpr = wholeExpr.substring(startExpr.length(), wholeExpr.length() - endExpr.length());

                if (startIdx &gt;= 0 &amp;&amp; escapeString != null &amp;&amp; escapeString.length() &gt; 0) {
                    int startEscapeIdx = startIdx == 0 ? 0 : startIdx - escapeString.length();
                    if (startEscapeIdx &gt;= 0) {
                        String escape = input.substring(startEscapeIdx, startIdx);
                        if (escapeString.equals(escape)) {
                            result.append(wholeExpr);
                            result.replace(startEscapeIdx, startEscapeIdx + escapeString.length(), &quot;&quot;);
                            continue;
                        }
                    }
                }

                boolean resolved = false;
                if (!unresolvable.contains(wholeExpr)) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/plexus/interpolation/StringSearchInterpolator.java</td>
<td><a href="./xref/org/codehaus/plexus/interpolation/StringSearchInterpolator.html#L54">54</a></td></tr>
<tr class="a">
<td>org/codehaus/plexus/interpolation/multi/MultiDelimiterStringSearchInterpolator.java</td>
<td><a href="./xref/org/codehaus/plexus/interpolation/multi/MultiDelimiterStringSearchInterpolator.html#L78">78</a></td></tr>
<tr class="b">
<td colspan="2">
<pre>}

    /**
     * {@inheritDoc}
     */
    public void addValueSource(ValueSource valueSource) {
        valueSources.add(valueSource);
    }

    /**
     * {@inheritDoc}
     */
    public void removeValuesSource(ValueSource valueSource) {
        valueSources.remove(valueSource);
    }

    /**
     * {@inheritDoc}
     */
    public void addPostProcessor(InterpolationPostProcessor postProcessor) {
        postProcessors.add(postProcessor);
    }

    /**
     * {@inheritDoc}
     */
    public void removePostProcessor(InterpolationPostProcessor postProcessor) {
        postProcessors.remove(postProcessor);
    }

    public String interpolate(String input, String thisPrefixPattern) throws InterpolationException {
        return interpolate(input, new SimpleRecursionInterceptor());
    }

    public String interpolate(String input, String thisPrefixPattern, RecursionInterceptor recursionInterceptor)
            throws InterpolationException {
        return interpolate(input, recursionInterceptor);
    }

    public String interpolate(String input) throws InterpolationException {
        return interpolate(input, new SimpleRecursionInterceptor());
    }

    /**
     * Entry point for recursive resolution of an expression and all of its
     * nested expressions.
     *
     * TODO: Ensure unresolvable expressions don't trigger infinite recursion.
     */
    public String interpolate(String input, RecursionInterceptor recursionInterceptor) throws InterpolationException {
        try {
            return interpolate(input, recursionInterceptor, new HashSet&lt;String&gt;());</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/plexus/interpolation/StringSearchInterpolator.java</td>
<td><a href="./xref/org/codehaus/plexus/interpolation/StringSearchInterpolator.html#L243">243</a></td></tr>
<tr class="a">
<td>org/codehaus/plexus/interpolation/multi/MultiDelimiterStringSearchInterpolator.java</td>
<td><a href="./xref/org/codehaus/plexus/interpolation/multi/MultiDelimiterStringSearchInterpolator.html#L291">291</a></td></tr>
<tr class="b">
<td colspan="2">
<pre>List&lt;?&gt; messages = new ArrayList();
        for (ValueSource vs : valueSources) {
            List feedback = vs.getFeedback();
            if (feedback != null &amp;&amp; !feedback.isEmpty()) {
                messages.addAll(feedback);
            }
        }

        return messages;
    }

    /**
     * Clear the feedback messages from previous interpolate(..) calls.
     */
    public void clearFeedback() {
        for (ValueSource vs : valueSources) {
            vs.clearFeedback();
        }
    }

    public boolean isCacheAnswers() {
        return cacheAnswers;
    }

    public void setCacheAnswers(boolean cacheAnswers) {
        this.cacheAnswers = cacheAnswers;
    }

    public void clearAnswers() {
        existingAnswers.clear();
    }

    public String getEscapeString() {
        return escapeString;
    }

    public void setEscapeString(String escapeString) {
        this.escapeString = escapeString;
    }</pre></td></tr></table></section></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2001–2025
<a href="https://codehaus-plexus.github.io/">Codehaus Plexus</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>